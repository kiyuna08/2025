import streamlit as st
import random

# 계절 & 분위기별 여행지 + 음식 데이터
travel_data = {
    "봄": {
        "로맨틱": {
            "프랑스": {
                "여행지": ["파리 튤립 정원", "프로방스 라벤더 농장", "몽생미셸"],
                "음식": ["크루아상", "에스카르고", "프로방스 와인"]
            },
            "일본": {
                "여행지": ["교토 벚꽃길", "오사카 성 공원", "도쿄 우에노 공원"],
                "음식": ["벚꽃 모찌", "초밥", "오코노미야키"]
            },
            "네덜란드": {
                "여행지": ["쿄켄호프 정원", "암스테르담 운하"],
                "음식": ["스트로프와플", "헤링 생선 요리"]
            }
        }
    },
    "여름": {
        "해변 휴양": {
            "태국": {
                "여행지": ["푸켓", "코사무이", "파타야"],
                "음식": ["팟타이", "망고 스티키 라이스", "똠얌꿍"]
            },
            "하와이": {
                "여행지": ["와이키키 비치", "마우이 섬", "카우아이"],
                "음식": ["포케", "하와이안 바비큐", "스팸 무스비"]
            },
            "그리스": {
                "여행지": ["산토리니", "미코노스"],
                "음식": ["무사카", "그릭 샐러드", "수블라키"]
            }
        }
    },
    "가을": {
        "축제": {
            "독일": {
                "여행지": ["뮌헨 옥토버페스트"],
                "음식": ["독일 소시지", "프레첼", "맥주"]
            },
            "멕시코": {
                "여행지": ["죽은 자의 날 페스티벌"],
                "음식": ["타코", "엔칠라다", "설탕 해골 캔디"]
            },
            "스페인": {
                "여행지": ["발렌시아 라 토마티나"],
                "음식": ["빠에야", "상그리아"]
            }
        }
    },
    "겨울": {
        "온천 휴양": {
            "일본": {
                "여행지": ["하코다테 온천", "쿠사츠 온천"],
                "음식": ["가이세키 요리", "온천 달걀"]
            },
            "아이슬란드": {
                "여행지": ["블루 라군"],
                "음식": ["양고기 스튜", "스카르 핫도그"]
            },
            "헝가리": {
                "여행지": ["부다페스트 세체니 온천"],
                "음식": ["굴라시", "파프리카 치킨"]
            }
        }
    }
}

# 웹앱 제목
st.title("🌍 계절 & 분위기별 여행지 + 음식 추천 (Top 3)")

# 계절 선택
season = st.selectbox("가고 싶은 계절을 선택하세요:", list(travel_data.keys()))

# 분위기 선택
mood = st.selectbox("원하는 여행 분위기를 선택하세요:", list(travel_data[season].keys()))

# 추천 버튼
if st.button("추천 받기"):
    # 선택한 계절/분위기에서 랜덤 국가 3개 뽑기
    countries = list(travel_data[season][mood].keys())
    top_countries = random.sample(countries, min(3, len(countries)))  # 최대 3개
    
    st.success(f"✨ {season}의 '{mood}' 분위기에 어울리는 여행지 Top 3 ✨")
    
    for idx, country in enumerate(top_countries, start=1):
        place = random.choice(travel_data[season][mood][country]["여행지"])
        food = random.choice(travel_data[season][mood][country]["음식"])
        st.write(f"**{idx}. {country} - {place}** 🍽 추천 음식: {food}")

